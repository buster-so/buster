fileType: momentic/test
id: 83199e36-c987-437f-8e97-cd84e0fa87bc
name: update-and-save-metric-version
description: Click into a metric and look around the edit options. Make sure no
  errors are thrown. Save a change to a metric, refresh the page and make sure
  that it loads.
schemaVersion: 1.0.21
advanced:
  viewport:
    width: 1920
    height: 1080
  browserType: Chromium
retries: 0
envs:
  - name: development
    default: true
steps:
  - id: 0e93bee3-d7b9-4e02-923c-a478d1b15b0b
    type: MODULE
    moduleId: defc36e9-b0a7-4bfe-940f-7901493d5e5e
  - id: 076b2184-bb1d-43da-bbaf-bd516ea41e2a
    type: PRESET_ACTION
    command:
      id: c6271eae-1276-4af4-95ef-8d068c34745b
      type: CLICK
      target:
        type: description
        elementDescriptor: the search icon button in the left sidebar (search-button)
  - id: 9409c776-0d83-49e1-a4c2-5ed473070c6c
    type: PRESET_ACTION
    command:
      id: 6ac8e4f4-8ab3-4d21-b527-fa2d3aaeece9
      type: CLICK
      target:
        type: description
        elementDescriptor: the search modal's right-side icon button next to the search input
  - id: 63e635dd-8121-4c45-bf9a-873714602b4e
    type: PRESET_ACTION
    command:
      id: 5e9ff389-7553-4527-9eca-395f99cb8ed4
      type: HOVER
      target:
        type: description
        elementDescriptor: the Asset type menu item in the Filters dropdown (menu item
          with submenu caret)
  - id: 98b46337-ff5f-4f2f-8560-82f44ff483e0
    type: PRESET_ACTION
    command:
      id: ffbd714a-ef5d-40b5-a315-8465402bdded
      type: CLICK
      target:
        type: description
        elementDescriptor: the Charts checkbox item in the filters dropdown menu
  - id: bd3dc745-3b25-41b5-99c5-77156a7130aa
    type: PRESET_ACTION
    command:
      id: 85e7faf8-00d7-4bce-a26e-714f3ec79ed9
      type: CLICK
      target:
        type: description
        elementDescriptor: the modal overlay backdrop behind the search dialog
          (clickable dialog overlay)
  - id: ee8c8438-3b9d-4f31-9781-6a5aef38244f
    type: PRESET_ACTION
    command:
      id: 087ff3ef-8455-4fd5-bb7e-af6cf4bef106
      type: WAIT
      delay: 2
  - id: c7714404-0fa3-4148-a356-ed9e79c911a5
    type: PRESET_ACTION
    command:
      id: 95ae0d9a-c0c9-4992-9619-afc7642d2cec
      type: CLICK
      target:
        type: description
        elementDescriptor: the first suggestion option in the search modal suggestions
          list that is not under the "Actions" group
  - id: 18ccec13-eb82-4434-8486-66547a2872b2
    type: PRESET_ACTION
    command:
      id: bbf3ad1e-4d2c-4501-a528-504fa216abe4
      type: WAIT_FOR_URL
      matcher:
        type: SUBSTRING
        url: /metrics
      timeout: 2
  - id: 4383c4b9-c590-480f-8812-03d369c5c679
    type: PRESET_ACTION
    command:
      id: 9c1a8b69-3b02-454d-b83c-c57abd95302a
      type: AI_ASSERTION
      assertion: Confirm there is a title and a metric displayed. The metric can be a
        chart, graph, table, or value.
  - id: 5ccb73fa-40d6-4b5a-80da-195f9f47a6c0
    type: PRESET_ACTION
    command:
      id: 40e714b7-40d2-4e39-8382-9775889c7ce8
      type: CLICK
      target:
        type: description
        elementDescriptor: Results tab above the Metric
  - id: 88da2ed7-aaa2-442d-bd03-2fe910297402
    type: PRESET_ACTION
    command:
      id: 6849fff3-8f0b-4c0a-bab3-d9f06caad107
      type: AI_ASSERTION
      assertion: There is at least one row and one column shown in the results
  - id: d0494935-7b0a-4fbd-a7e9-046c3a2b2ca3
    type: PRESET_ACTION
    command:
      id: 7870cedb-d930-42d5-8e03-ec8964958993
      type: CLICK
      target:
        type: description
        elementDescriptor: SQL tab
  - id: 164ed48c-bf61-462c-97a7-209a09780b4c
    type: PRESET_ACTION
    command:
      id: 7e6dea65-7380-456c-8637-614e8d7bcfc6
      type: AI_ASSERTION
      assertion: Confirm there is SQL code displayed in the center
  - id: 5e574283-a2f4-46d2-b14a-def032b9889c
    type: PRESET_ACTION
    command:
      id: df5914de-803b-4d0a-80ca-325dace3a7fc
      type: CLICK
      target:
        type: description
        elementDescriptor: three dots ... next to the share icon at the top
  - id: 20244d30-4686-4555-84a6-f95e1a31ff0b
    type: PRESET_ACTION
    command:
      id: 1fcc4272-22e1-4664-93c7-0c1b697ca4c8
      type: CLICK
      target:
        type: description
        elementDescriptor: Edit chart option from the dropdown
  - id: f8f16248-5d84-4625-ac87-29dcb2d1bc3d
    type: PRESET_ACTION
    command:
      id: 135e99db-95df-4abc-9c33-66dbb61dd471
      type: AI_ASSERTION
      assertion: "Editing panel is displayed from the right with tabs for Visualize,
        Styling, and Colors. "
  - id: edf92c40-e10e-4a7c-b39c-729cee49f6bc
    type: PRESET_ACTION
    command:
      id: 1a868eb0-7ee6-44db-8497-43b720dc8ef6
      clearContent: true
      type: TYPE
      target:
        type: description
        elementDescriptor: The title above the metric
      value: momentic-test-metric-swag
  - id: 77ee7abc-2ddb-4c05-955f-4b61884fd52b
    type: PRESET_ACTION
    command:
      id: 8ad2f04d-bb15-42c4-bdc9-62baf6795888
      type: CLICK
      target:
        type: description
        elementDescriptor: the metric view chart content panel (metric-view-chart-content)
  - id: feafdea7-9b78-4620-b6f6-850f700d65b3
    type: PRESET_ACTION
    command:
      id: 99d42264-12a6-4b90-989b-2c5c77b0ddcb
      type: WAIT
      delay: 2
  - id: df94543c-3fb2-4862-ab45-fb68dfc09639
    type: PRESET_ACTION
    command:
      id: 87161b69-c52f-44df-8310-8e5896b6ffb5
      type: AI_ASSERTION
      assertion: Confirm there is a pop up at the bottom with "Unsaved Changes Reset Save"
  - id: e2a0f74d-058a-4450-b4e7-812ec1d1d0c2
    type: PRESET_ACTION
    command:
      id: 4868bdef-3df2-4d39-a3a7-f7d6c68f70ee
      type: CLICK
      target:
        type: description
        elementDescriptor: Save next to Unsaved Changes
  - id: cd696a80-d2b2-4f58-89d3-bbb0d95a198e
    type: PRESET_ACTION
    command:
      id: 47e7bb3e-fe86-4414-8fbb-1983fd9edca6
      loadTimeout: 2
      type: REFRESH
  - id: 5de3a198-c9b0-4ba3-a23f-7c150ba66bf8
    type: PRESET_ACTION
    command:
      id: bb8ed7b3-5fad-4eca-8640-a33167547f71
      type: AI_ASSERTION
      assertion: Confirm there is a metric with "momentic-test-metric" in the title
        above it
